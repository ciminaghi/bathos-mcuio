menu "ARM architecture configuration"

config CPU_CORTEX_M0
       bool

config CPU_CORTEX_M0_PLUS
       bool

config CPU_CORTEX_M3
       bool

config HAS_MEMORY_MODE
	bool

config HAS_CORTEXM_SYSTICKTMR
       bool

config CORTEXM_SYSTICKTMR_USE_EXT_CLOCK
       bool

config NR_INTERRUPTS
       int
       default 32

config STACK_ADDR
       hex
       default 0x20003000

config VECTABLE_ALIGNMENT
       int
       default 64

choice
	prompt "SOC to build for"

config MACH_NONE
       bool "NONE"
       select CPU_CORTEX_M0
       help
	 build for no particular machine

config MACH_KL25Z
       bool "Freescale KL25Z"
       select CPU_CORTEX_M0_PLUS
       select HAVE_RELOCATE_INTERRUPT_TABLE
       select HAS_CORTEXM_SYSTICKTMR
       select HAVE_GPIOS
       select HAVE_GPIO_EVENTS
       select FREESCALE_DRIVERS

endchoice

config THOS_QUARTZ
       int "CPU clock frequency"
       default 12000000 if MACH_KL25Z

config CPU
       string
       default "cortex-m0" if CPU_CORTEX_M0 || CPU_CORTEX_M0_PLUS
       default "cortex-m3" if CPU_CORTEX_M3

config MACH
       default "none" if MACH_NONE
       default "kl25z" if MACH_KL25Z

if MACH_KL25Z
	source arch-arm/mach-kl25z/Kconfig
endif

choice
	prompt "Target board for bathos"

config BOARD_NONE
       bool
	prompt "Build for no particular board"

config BOARD_FREEDOG
       bool
        prompt "Build for a KL25Z based freedog board"

endchoice

config BOARD
       default "none" if BOARD_NONE
       default "freedog" if BOARD_FREEDOG


config ENDLESS_LOOP_AT_START
       bool
       prompt "Add an endless loop at machine startup"
       default n
       help
        This can be useful in case you want the machine to delay
        boot until a jtag/cmsis-dap emulator has been connected
	Say N if unsure.

endmenu
